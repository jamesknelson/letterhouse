---
import type { Letter, Site } from 'letterhouse'

import LetterFull from '../components/LetterFull.astro'
import LetterHead from '../components/LetterHead.astro'
import MarginLetterActions from '../components/MarginLetterActions.astro'
import SiteLayout from './SiteLayout.astro'
import MarginWorkInProgressIndicator from '../components/MarginWorkInProgressIndicator.astro'

export interface Props {
  letter: Letter
  site: Site
}

const { letter, site } = Astro.props as Props
---

<SiteLayout>
  <LetterHead letter={letter} siteTitle={site.title} slot='head' />
  <LetterFull letter={letter} />
  <MarginLetterActions letter={letter} site={site} slot='margin' />
  {letter.status !== 'published' && (
    <MarginWorkInProgressIndicator slot="margin" />
  )}
</SiteLayout>
